<!DOCTYPE html>
<html lang="en">
  <head>
    <title>COS 小饅頭のIPTV</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.1.5/dist/hls.min.js"></script>
    <style>
      html, body{
        margin: 0;
        padding: 0;
        overflow: hidden;
        width: 100%;
      }
    </style>
  </head>
  
  <body>
    <!-- 下拉列表框 -->
    <div style="margin: 10px;">
      <label for="streamSelect">选择频道：</label>
      <select id="streamSelect">
        <option value="http://zzy789.xyz/douyu1.php?id=431460">斗鱼431460</option>
        <option value="http://zzy789.xyz/douyu1.php?id=288016">斗鱼288016</option>
        <option value="http://zzy789.xyz/douyu1.php?id=9999">斗鱼9999</option>
        <!-- 可继续添加更多key=value -->
      </select>
    </div>

    <div id="dplayer" style="width: 100%; height:450px"></div>
    <script src="https://cdn.jsdelivr.net/npm/dplayer@1.26.0/dist/DPlayer.min.js"></script>
    <script>
      // 初始化DPlayer
      let currentUrl = document.getElementById('streamSelect').value;
      let dp = new DPlayer({
        container: document.getElementById('dplayer'),
        video: {
          url: currentUrl,
        },
      });

      // 下拉框事件监听
      document.getElementById('streamSelect').addEventListener('change', function() {
        const newUrl = this.value;
        // 切换播放源
        dp.switchVideo({
          url: newUrl,
        });
        dp.play();
      });
    </script>
  </body>
</html>
